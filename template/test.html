<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <h1>Hello World</h1>
    <button onclick="callPythonFunction()">XXX</button>
    <script type="text/javascript" src="./js/global/qwebchannel.js"></script>
    <script type="text/javascript">
        function callback(result) {
            alert('结果:' + result);
        }
        var func = undefined;
        function test() {
            new QWebChannel(qt.webChannelTransport, function (channel) {
                // 从channel中获取到我们注册到channel中的Factorial类对象
                func = channel.objects.obj;
            });
        }
        window.onload = function () {
            test();
        };

        function callPythonFunction() {
            func.print_message("Hello from JavaScript!",callback);
        }
    </script>
</body>
</html>